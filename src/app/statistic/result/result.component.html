<div class="row">
  <div class="col-md-12">

    <h4 *ngIf="result; else loader">Отчет о прохождении юнита {{result.unit.name}}</h4>

    <ngb-tabset [destroyOnHide]="false">
      <ngb-tab title="Практика">
        <ng-template ngbTabContent>
          <div ngbDropdown class="d-inline-block">
            <button class="btn btn-outline-primary" id="dropdownTab" ngbDropdownToggle>Экспорт</button>
            <div ngbDropdownMenu aria-labelledby="dropdownTab">
              <button (click)="makeImg()" class="dropdown-item">Печать изображения</button>
              <button (click)="makePdf()" class="dropdown-item">PDF</button>
            </div>
          </div>

          <div #goJSDiagram style="width:100%; height:450px; background-color: #DAE4E4;"></div>
        </ng-template>
      </ngb-tab>
      <ngb-tab *ngIf="result; else loader" title="Тест">
        <ng-template ngbTabContent>
          <div *ngFor="let qa of result.test; let questionIndex = index"
               style="margin-top: 15px"
               class="col-md-12">
            <div class="card">
              <div class="card-header">
                <span>Вопрос ({{questionIndex + 1}}) - {{qa.question.name}}</span>
                <span
                   class="badge badge-pill"
                   [ngClass]="{
                    'badge-danger': !isCorrectAnswerQuestion(qa),
                    'badge-success': isCorrectAnswerQuestion(qa)
                   }">
                  {{isCorrectAnswerQuestion(qa) ? 'Правильно' : 'Неправильно'}}
                </span>
              </div>
              <div class="card-body">
                <h4 class="card-title">Ответ - <span>{{qa.answer.name}}</span></h4>
                <p *ngIf="!isCorrectAnswerQuestion(qa)" class="card-text">Правильный ответ - {{qa.correct_answer.name}}</p>
              </div>
            </div>

          </div>

        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>

  <ng-template #loader>Loading...</ng-template>

</div>